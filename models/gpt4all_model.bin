from gpt4all import GPT4All

# Charger le modèle local
model_path = "models/gpt4all_model.bin"
gpt = GPT4All(model_path)

# Fonction pour interroger le modèle
def ask_gpt4all(question, data_preview=None):
    """
    question : texte de l'utilisateur
    data_preview : dictionnaire ou texte résumant les données économiques
    """
    prompt = "Voici des données économiques :\n"
    if data_preview:
        prompt += str(data_preview) + "\n"
    prompt += "Question : " + question
    response = gpt.generate(prompt)
    return response

#Exemple d'utilisation
question = "Quel pays a eu la plus forte croissance du PIB en 2019 ?"
data_preview = df.head(20).to_dict()  # aperçu du dataset
response = ask_gpt4all(question)  # ou ask_gpt4all(question, data_preview)
print(response)

